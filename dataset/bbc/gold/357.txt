A man who allegedly went on a 2011 shooting rampage in a hair salon in Seal Beach, California, has agreed to plead guilty, his lawyer said.Scott Dekraai, 44, was charged with the deaths of eight people and was set to face trial on 9 June.He is said to have been engaged in a child custody fight with his ex-wife, Michelle Fournier, a hairdresser.Seven people inside the salon were killed, along with a man sitting in his car in the parking lot.Mr Dekraai had reportedly previously offered to plead guilty to charges in exchange for multiple life sentences but prosecutors had earlier declined to drop the death penalty.His defence lawyer, Scott Sanders, told an Orange County court on Monday that his client would enter the plea.Those killed in the attack included Ms Fournier, friend Christy Wilson, salon owner Randy Fannin, stylist Victoria Buzzo, and Laura Elody, Lucia Kondas, Michele Fast and David Caouette.Another woman received gunshot wounds but survived the attack.